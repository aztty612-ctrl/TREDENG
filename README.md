const express = require("express"); const cors = require("cors"); const bodyParser = require("body-parser"); const nodemailer = require("nodemailer"); const app = express(); app.use(cors()); app.use(bodyParser.json()); // بيانات بريدك وكلمة مرور تطبيق جوجل const transporter = nodemailer.createTransport({ service: "gmail", auth: { user: "aztty612@gmail.com",      // بريدك المرسل (يجب أن يكون نفسه المستقبل) pass: "YOUR_APP_PASSWORD",       // كلمة مرور تطبيقات جوجل }, }); app.post("/notify", async (req, res) => { const { symbol, signal } = req.body; try { await transporter.sendMail({ from: '"Trading Bot" <aztty612@gmail.com>', to: "aztty612@gmail.com",    // ثابت دائماً subject: `إشارة تداول جديدة (${symbol})`, text: `تم توليد إشارة جديدة: ${signal}`, }); res.json({ ok: true }); } catch (e) { res.status(500).send("Mail failed"); } }); app.listen(5000, () => { console.log("Notification server running on http://localhost:5000"); });
